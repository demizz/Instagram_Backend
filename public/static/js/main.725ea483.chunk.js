(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{20:function(e,t,a){e.exports=a(32)},25:function(e,t,a){},26:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(18),r=a.n(c),l=(a(25),a(1)),s=(a(26),a(3)),i=a(2),u=a(4),m=a.n(u),p=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),u=Object(l.a)(r,2),p=u[0],d=u[1],h=Object(n.useRef)(null),f=Object(s.f)(),g=Object(n.useContext)(k),E=g.state,y=g.dispatch;return o.a.createElement("nav",null,o.a.createElement("div",{className:"nav-wrapper white"},E?o.a.createElement(i.b,{to:"/home",className:"brand-logo left"},"Instagram"):o.a.createElement(i.b,{to:"/",className:"brand-logo left"},"Instagram"),";",o.a.createElement("ul",{id:"nav-mobile",className:"right"},(Object(n.useEffect)((function(){m.a.Modal.init(h.current)}),[]),E?[o.a.createElement("li",{key:"0","data-target":"modal1",className:"large material-icons modal-trigger",style:{color:"black",marginTop:"20px",marginRight:"20px",cursor:"pointer"}},"search"),o.a.createElement("li",{key:"1"},o.a.createElement(i.b,{to:"/profile"},"My profile")),o.a.createElement("li",{key:"2"},o.a.createElement(i.b,{to:"/myFollowingsPosts"},"My followings posts")),o.a.createElement("li",{key:"3"},o.a.createElement(i.b,{to:"/create"},"Create new Post ")),,o.a.createElement("button",{className:"btn #c62828 red-darken-3",onClick:function(){return fetch("".concat("https://imed-is-instagram.herokuapp.com//api/v1","/user/logout"),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.log(e)})),localStorage.clear(),y({type:"CLEAR"}),void f.push("/")}},"Logout")]:[o.a.createElement("li",{key:"5"},o.a.createElement(i.b,{to:"/login"},"login")),o.a.createElement("li",{key:"6"},o.a.createElement(i.b,{to:"/signup"},"signup"))]),";")),o.a.createElement("div",{id:"modal1",className:"modal",ref:h,style:{color:"black"}},o.a.createElement("div",{className:"modal-content"},o.a.createElement("input",{type:"text",placeholder:"search users",value:a,onChange:function(e){return t=e.target.value,c(t),void fetch("".concat("https://imed-is-instagram.herokuapp.com//api/v1","/user/search-users"),{method:"post",headers:{"Content-Type":"application/json",authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({query:t})}).then((function(e){return e.json()})).then((function(e){d(e.users)})).catch((function(e){return console.log(e)}));var t}}),o.a.createElement("ul",{className:"collection"},p.map((function(e,t){return o.a.createElement(i.b,{key:e._id,to:e._id!==E._id?"/profile/"+e._id:"/profile",onClick:function(){m.a.Modal.getInstance(h.current).close(),c("")}},o.a.createElement("li",{className:"collection-item"},e.email))})))),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{className:"modal-close waves-effect waves-green btn-flat",onClick:function(e){return c("")}},"close"))))};var d=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],r=a[1],s=Object(n.useContext)(k),u=s.state;return s.dispatch,Object(n.useEffect)((function(){fetch("".concat("https://imed-is-instagram.herokuapp.com//api/v1","/post/home"),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){r(e.posts)}))}),[]),o.a.createElement("div",{className:"home"},c.map((function(e,t){return o.a.createElement("div",{key:e._id,className:"card home-card"},o.a.createElement("h5",null,o.a.createElement(i.b,{to:"/profile/"+e.postedBy._id,style:{textTransform:"capitalize"}},e.postedBy.name),e.postedBy._id===u._id?o.a.createElement("i",{className:"material-icons",style:{float:"right"},onClick:function(){return t=e._id,void fetch("".concat("https://imed-is-instagram.herokuapp.com//api/v1","/post/delete/").concat(t),{method:"delete",headers:{"Content-Type":"application/json",authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){"success"===e.status&&(m.a.toast({html:e.message,classes:"#43a047 green darken-1"}),window.location.reload(!0))})).catch((function(e){return console.log(e)}));var t}},"delete"):o.a.createElement("i",null)),o.a.createElement("div",{className:"card-image"},o.a.createElement("img",{src:e.photo,alt:e.title})),o.a.createElement("div",{className:"card-content"},e.likes.includes(u._id)?o.a.createElement("i",{className:"material-icons",style:{color:"red"},onClick:function(){return t=e._id,void fetch("".concat("https://imed-is-instagram.herokuapp.com//api/v1","/post/unlike"),{method:"put",headers:{"Content-Type":"application/json",authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=c.map((function(t){return t._id===e.doc._id?e.doc:t}));r(t)})).catch((function(e){return console.log(e)}));var t}},"thumb_down"):o.a.createElement("i",{className:"material-icons",style:{color:"red"},onClick:function(){return t=e._id,void fetch("".concat("https://imed-is-instagram.herokuapp.com//api/v1","/post/like"),{method:"put",headers:{"Content-Type":"application/json",authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=c.map((function(t){return t._id===e.doc._id?e.doc:t}));r(t)})).catch((function(e){return console.log(e)}));var t}},"thumb_up"),o.a.createElement("h6",null,e.likes.length," likes"),o.a.createElement("h6",{style:{textTransform:"capitalize"}},e.title," "),o.a.createElement("p",{style:{textTransform:"capitalize"}},e.body," "),e.comments.map((function(e,t){return o.a.createElement("h6",{key:e._id},o.a.createElement("span",{style:{fontWeight:"500"}},e.postedBy.name," :"),e.text)})),o.a.createElement("form",{onSubmit:function(t){var a,n;t.preventDefault(),a=t.target[0].value,n=e._id,fetch("".concat("https://imed-is-instagram.herokuapp.com//api/v1","/post/comment"),{method:"put",headers:{"Content-Type":"application/json",authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({comment:{text:a,postId:n}})}).then((function(e){return e.json()})).then((function(e){var t=c.map((function(t){return t._id===e.doc._id?e.doc:t}));r(t)})).catch((function(e){return console.log(e)}))}},o.a.createElement("input",{type:"text",placeholder:"add a comment"}))))})))};var h=function(e){var t=Object(n.useContext)(k),a=(t.state,t.dispatch),c=Object(s.f)(),r=Object(n.useState)(""),u=Object(l.a)(r,2),p=u[0],d=u[1],h=Object(n.useState)(""),f=Object(l.a)(h,2),g=f[0],E=f[1];return o.a.createElement("div",{className:"mycard"},o.a.createElement("div",{className:"card auth-card"},o.a.createElement("h2",null,"Instagram"),o.a.createElement("input",{type:"email",placeholder:"Email",value:g,onChange:function(e){return E(e.target.value)}}),o.a.createElement("input",{type:"password",placeholder:"Password",value:p,onChange:function(e){return d(e.target.value)}}),o.a.createElement("h6",{onClick:function(){fetch("".concat("https://imed-is-instagram.herokuapp.com//api/v1","/user/forgot-password"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:g})}).then((function(e){return e.json()})).then((function(e){"success"===e.status?m.a.toast({html:e.message,classes:"#43a047 green darken-1"}):"fail"===e.status&&m.a.toast({html:e.message,classes:"#c62828 red darken-3"})})).catch((function(e){return console.log(e)}))},className:"forgotpassword"},"forgot password ?"),o.a.createElement("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){fetch("".concat("https://imed-is-instagram.herokuapp.com//api/v1","/user/login"),{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify({password:p,email:g})}).then((function(e){return e.json()})).then((function(e){"fail"===e.status?m.a.toast({html:e.message,classes:"#c62828 red darken-3"}):"success"===e.status&&(localStorage.setItem("jwt",e.token),localStorage.setItem("user",JSON.stringify(e.user)),a({type:"USER",payload:e.user}),m.a.toast({html:e.message,classes:"#43a047 green darken-1"}),c.push("/home"))})).catch((function(e){console.log(e)}))}},"Login"),o.a.createElement("h5",null,o.a.createElement(i.b,{to:"/signup"},"Don't have an account ?"))))};var f=function(e){var t=Object(s.f)(),a=Object(n.useContext)(k),c=(a.state,a.dispatch),r=Object(n.useState)(""),u=Object(l.a)(r,2),p=u[0],d=u[1],h=Object(n.useState)(""),f=Object(l.a)(h,2),g=f[0],E=f[1],y=Object(n.useState)(""),v=Object(l.a)(y,2),b=v[0],j=v[1],w=Object(n.useState)(""),O=Object(l.a)(w,2),N=O[0],S=O[1],C=Object(n.useState)(""),x=Object(l.a)(C,2),_=x[0],I=x[1];Object(n.useEffect)((function(){_&&B()}),[_]);var B=function(){fetch("".concat("https://imed-is-instagram.herokuapp.com//api/v1","/user/signup"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:p,password:g,email:b,photo:_})}).then((function(e){return e.json()})).then((function(e){"fail"===e.status?m.a.toast({html:e.message.message,classes:"#c62828 red darken-3"}):"success"===e.status&&(localStorage.setItem("jwt",e.token),localStorage.setItem("user",JSON.stringify(e.user)),c({type:"USER",payload:e.user}),m.a.toast({html:e.message,classes:"#43a047 green darken-1"}),t.push("/home"))}))},T=function(){N?function(){var e=new FormData;e.append("file",N),e.append("upload_preset","insta-clone"),e.append("cloud_name","de8wrgyph"),fetch("https://api.cloudinary.com/v1_1/de8wrgyph/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){I(e.secure_url)})).catch((function(e){return console.log(e)}))}():B()};return o.a.createElement("div",null,o.a.createElement("div",{className:"mycard"},o.a.createElement("div",{className:"card auth-card"},o.a.createElement("h2",null,"Instagram"),o.a.createElement("input",{type:"text",placeholder:"Name",value:p,onChange:function(e){return d(e.target.value)}}),o.a.createElement("input",{type:"email",placeholder:"Email",value:b,onChange:function(e){return j(e.target.value)}}),o.a.createElement("input",{type:"password",placeholder:"Password",value:g,onChange:function(e){return E(e.target.value)}}),o.a.createElement("div",{className:"file-field input-field"},o.a.createElement("div",{className:"btn"},o.a.createElement("span",null,"Upload Image"),o.a.createElement("input",{type:"file",onChange:function(e){S(e.target.files[0])}})),o.a.createElement("div",{className:"file-path-wrapper"},o.a.createElement("input",{className:"file-path validate",type:"text"}))),o.a.createElement("button",{className:"btn waves-effect waves-light #64b5f6 blue lighten-2",onClick:function(){return T()}},"Signup"),o.a.createElement("h5",null,o.a.createElement(i.b,{to:"/login"},"Already to have an account ?")))))};var g=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],r=a[1],s=Object(n.useContext)(k),i=s.state,u=s.dispatch,m=Object(n.useState)(""),p=Object(l.a)(m,2),d=p[0],h=p[1],f=Object(n.useState)(""),g=Object(l.a)(f,2),E=(g[0],g[1]);return Object(n.useEffect)((function(){if(d){var e=new FormData;e.append("file",d),e.append("upload_preset","insta-clone"),e.append("cloud_name","de8wrgyph"),fetch("https://api.cloudinary.com/v1_1/de8wrgyph/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){E(e.secure_url),fetch("".concat("https://imed-is-instagram.herokuapp.com//api/v1","/user/updatePhoto"),{method:"put",headers:{"Content-Type":"application/json",authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({photo:e.secure_url})}).then((function(e){return e.json()})).then((function(e){console.log("the results is now",e.data.doc.photo),u({type:"UPLOAD",payload:e.data.doc.photo})})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}}),[d]),Object(n.useEffect)((function(){fetch("".concat("https://imed-is-instagram.herokuapp.com//api/v1","/user/myProfile"),{headers:{authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){r(e.doc)})).catch((function(e){return console.log(e)}))}),[]),o.a.createElement("div",{style:{maxWidth:"550px",margin:"0px auto"}},o.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",margin:"18px 0px"}},o.a.createElement("div",null,o.a.createElement("img",{style:{width:"160px",height:"160px",borderRadius:"80px"},src:i.photo})),o.a.createElement("div",null,o.a.createElement("h4",{style:{textTransform:"capitalize"}},i.name),o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"108%"}},o.a.createElement("h5",null,c.length," posts "),o.a.createElement("h5",null,i.followers.length,"followers "),o.a.createElement("h5",null," ",i.followings.length," following ")))),o.a.createElement("div",{className:"file-field input-field"},o.a.createElement("div",{className:"btn"},o.a.createElement("span",null,"Upload Image"),o.a.createElement("input",{type:"file",onChange:function(e){var t;t=e.target.files[0],h(t)}})),o.a.createElement("div",{className:"file-path-wrapper"},o.a.createElement("input",{className:"file-path validate",type:"text"}))),o.a.createElement("div",{className:"gallery"},c.map((function(e,t){return o.a.createElement("img",{className:"item",key:e._id,src:e.photo})}))))};var E=function(e){var t=Object(s.f)(),a=Object(n.useState)(""),c=Object(l.a)(a,2),r=c[0],i=c[1],u=Object(n.useState)(""),p=Object(l.a)(u,2),d=p[0],h=p[1],f=Object(n.useState)(""),g=Object(l.a)(f,2),E=g[0],y=g[1],v=Object(n.useState)(""),b=Object(l.a)(v,2),j=b[0],w=b[1];return Object(n.useEffect)((function(){j&&fetch("".concat("https://imed-is-instagram.herokuapp.com//api/v1","/post/create"),{method:"post",headers:{"Content-Type":"application/json",authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({title:r,body:d,photo:j})}).then((function(e){return e.json()})).then((function(e){"fail"===e.status?m.a.toast({html:e.message,classes:"#c62828 red darken-3"}):"success"===e.status&&(m.a.toast({html:e.message,classes:"#43a047 green darken-1"}),t.push("/home"))}))}),[j]),o.a.createElement("div",{className:"card input -filed",style:{margin:"30px auto",maxWidth:"500px",padding:"20px",textAlign:"center"}},o.a.createElement("input",{type:"text",placeholder:"title",value:r,onChange:function(e){i(e.target.value)}}),o.a.createElement("input",{type:"text",placeholder:"body",value:d,onChange:function(e){h(e.target.value)}}),o.a.createElement("div",{className:"file-field input-field"},o.a.createElement("div",{className:"btn"},o.a.createElement("span",null,"Upload Image"),o.a.createElement("input",{type:"file",onChange:function(e){return y(e.target.files[0])}})),o.a.createElement("div",{className:"file-path-wrapper"},o.a.createElement("input",{className:"file-path validate",type:"text"}))),o.a.createElement("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){return function(){var e=new FormData;e.append("file",E),e.append("upload_preset","insta-clone"),e.append("cloud_name","de8wrgyph"),fetch("https://api.cloudinary.com/v1_1/de8wrgyph/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){w(e.secure_url)})).catch((function(e){return console.log(e)}))}()}},"submit post"," "))};var y=function(e){var t=Object(n.useState)(null),a=Object(l.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(!0),u=Object(l.a)(i,2),m=u[0],p=u[1],d=Object(n.useContext)(k),h=d.state,f=d.dispatch,g=Object(s.g)().userId;return Object(n.useEffect)((function(){fetch("".concat("https://imed-is-instagram.herokuapp.com//api/v1","/user/user/").concat(g),{headers:{"Content-Type":"application/json",authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){r(e.data)})).catch((function(e){return console.log(e)}))}),[]),o.a.createElement(o.a.Fragment,null,c?o.a.createElement("div",{style:{maxWidth:"550px",margin:"0px auto"}},o.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",margin:"18px 0px"}},o.a.createElement("div",null,o.a.createElement("img",{style:{width:"160px",height:"160px",borderRadius:"80px"},src:c.user.photo})),o.a.createElement("div",null,o.a.createElement("h4",{style:{textTransform:"capitalize"}},c.user.name),o.a.createElement("h5",null,c.user.email),m?o.a.createElement("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){fetch("".concat("https://imed-is-instagram.herokuapp.com//api/v1","/user/follow"),{method:"put",headers:{"Content-Type":"application/json",authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({userId:g})}).then((function(e){return e.json()})).then((function(e){f({type:"UPDATE",payload:{followers:e.data.doc.followers,followings:e.data.doc.followings}}),p(!1)})).catch((function(e){return console.log(e)}))}},"follow"):o.a.createElement("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){fetch("".concat("https://imed-is-instagram.herokuapp.com//api/v1","/user/unfollow"),{method:"put",headers:{"Content-Type":"application/json",authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({userId:g})}).then((function(e){return e.json()})).then((function(e){f({type:"UPDATE",payload:{followers:e.data.doc.followers,followings:e.data.doc.followings}}),p(!0)})).catch((function(e){return console.log(e)}))}},"unfollow"),o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"108%"}},o.a.createElement("h5",null,c.userPosts.length," posts "),o.a.createElement("h5",null,h.followers.length," followers "),o.a.createElement("h5",null," ",h.followings.length,"following ")))),o.a.createElement("div",{className:"gallery"},c.userPosts.map((function(e){return o.a.createElement("img",{key:e._id,className:"item",src:e.photo,alt:e.title})})))):o.a.createElement("h2",null,"loading..."))},v=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],r=a[1],s=Object(n.useContext)(k),u=s.state;s.dispatch;Object(n.useEffect)((function(){fetch("".concat("https://imed-is-instagram.herokuapp.com//api/v1","/user/mySubPost"),{headers:{authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){r(e.doc)}))}),[]);return o.a.createElement("div",{className:"home"},c.map((function(e,t){return o.a.createElement("div",{key:e._id,className:"card home-card"},o.a.createElement("h5",null,o.a.createElement(i.b,{to:"/profile/"+e.postedBy._id},e.postedBy.name)),o.a.createElement("div",{className:"card-image"},o.a.createElement("img",{src:e.photo})),o.a.createElement("div",{className:"card-content"},e.likes.includes(u._id)?o.a.createElement("i",{className:"material-icons",style:{color:"red"},onClick:function(){return t=e._id,void fetch("".concat("https://imed-is-instagram.herokuapp.com//api/v1","/post/unlike"),{method:"put",headers:{"Content-Type":"application/json",authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=c.map((function(t){return t._id===e.doc._id?e.doc:t}));r(t)})).catch((function(e){return console.log(e)}));var t}},"thumb_down"):o.a.createElement("i",{className:"material-icons",style:{color:"red"},onClick:function(){return t=e._id,void fetch("".concat("https://imed-is-instagram.herokuapp.com//api/v1","/post/like"),{method:"put",headers:{"Content-Type":"application/json",authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=c.map((function(t){return t._id===e.doc._id?e.doc:t}));r(t)})).catch((function(e){return console.log(e)}));var t}},"thumb_up"),o.a.createElement("h6",null,e.likes.length," likes"),o.a.createElement("h6",null,e.title," "),o.a.createElement("p",null,e.body," "),e.comments.map((function(e,t){return o.a.createElement("h6",{key:e._id},o.a.createElement("span",{style:{fontWeight:"500"}},e.postedBy.name," :"),e.text)})),o.a.createElement("form",{onSubmit:function(t){var a,n;t.preventDefault(),a=t.target[0].value,n=e._id,fetch("".concat("https://imed-is-instagram.herokuapp.com//api/v1","/post/comment"),{method:"put",headers:{"Content-Type":"application/json",authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({comment:{text:a,postId:n}})}).then((function(e){return e.json()})).then((function(e){var t=c.map((function(t){return t._id==e.doc._id?e.doc:t}));r(t)})).catch((function(e){return console.log(e)}))}},o.a.createElement("input",{type:"text",placeholder:"add a comment"}))))})))};var b=function(e){var t=Object(s.f)(),a=Object(n.useState)(""),c=Object(l.a)(a,2),r=c[0],i=c[1],u=Object(n.useState)(""),p=Object(l.a)(u,2),d=p[0],h=p[1],f=Object(s.g)().token;return o.a.createElement("div",{className:"mycard"},o.a.createElement("div",{className:"card auth-card"},o.a.createElement("h2",null,"Reset Password"),o.a.createElement("input",{type:"password",placeholder:"password",value:r,onChange:function(e){return i(e.target.value)}}),o.a.createElement("input",{type:"password",placeholder:"Password",value:d,onChange:function(e){return h(e.target.value)}}),o.a.createElement("button",{className:"btn waves-effect waves-light #64b5f6 blue darken-1",onClick:function(){fetch("".concat("https://imed-is-instagram.herokuapp.com//api/v1","/user/resetPassword/").concat(f),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:r,confirmPassword:d})}).then((function(e){return e.json()})).then((function(e){"fail"===e.status?m.a.toast({html:e.message,classes:"#c62828 red darken-3"}):"success"===e.status&&(m.a.toast({html:e.message,classes:"#43a047 green darken-1"}),t.push("/login"))})).catch((function(e){console.log(e)}))}},"Submit")))};var j=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){fetch("".concat("https://imed-is-instagram.herokuapp.com//api/v1","/post/"),{}).then((function(e){return e.json()})).then((function(e){r(e.posts)}))}),[]),o.a.createElement("div",{className:"home"},c.map((function(e,t){return o.a.createElement("div",{key:e._id,className:"card home-card"},o.a.createElement("h5",null,e.postedBy.name),o.a.createElement("div",{className:"card-image"},o.a.createElement("img",{src:e.photo,alt:e.title})),o.a.createElement("h6",null,e.likes.length," likes"),o.a.createElement("h6",null,e.title," "),o.a.createElement("p",null,e.body," "))})))},w=a(11),O=function(e,t){return"USER"===t.type?t.payload:"CLEAR"===t.type?null:"UPDATE"===t.type?Object(w.a)(Object(w.a)({},e),{},{followers:t.payload.followers,followings:t.payload.followings}):"UPLOAD"===t.type?Object(w.a)(Object(w.a)({},e),{},{photo:t.payload}):e},k=(a(31),Object(n.createContext)()),N=function(){var e=Object(s.f)(),t=Object(n.useContext)(k),a=(t.state,t.dispatch);return Object(n.useEffect)((function(){var t=JSON.parse(localStorage.getItem("user"));t&&(e.push("/home"),a({type:"USER",payload:t}))}),[]),o.a.createElement(s.c,null,o.a.createElement(s.a,{exact:!0,path:"/"},o.a.createElement(j,null)),o.a.createElement(s.a,{exact:!0,path:"/home"},o.a.createElement(d,null)),o.a.createElement(s.a,{path:"/login"},o.a.createElement(h,null)),o.a.createElement(s.a,{path:"/signup"},o.a.createElement(f,null)),o.a.createElement(s.a,{exact:!0,path:"/profile"},o.a.createElement(g,null)),o.a.createElement(s.a,{path:"/create"},o.a.createElement(E,null)),o.a.createElement(s.a,{path:"/profile/:userId"},o.a.createElement(y,null)),o.a.createElement(s.a,{path:"/myFollowingsPosts"},o.a.createElement(v,null)),o.a.createElement(s.a,{path:"/resetPassword/:token"},o.a.createElement(b,null)))};var S=function(){var e=Object(n.useReducer)(O,null),t=Object(l.a)(e,2),a=t[0],c=t[1];return o.a.createElement(k.Provider,{value:{state:a,dispatch:c}},o.a.createElement(i.a,null,o.a.createElement(p,null),o.a.createElement(N,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.725ea483.chunk.js.map