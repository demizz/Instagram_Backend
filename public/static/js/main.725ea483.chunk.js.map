{"version":3,"sources":["components/navBar.js","components/Home.js","components/Login.js","components/Signup.js","components/Profile.js","components/CreatePost.js","components/UserProfile.js","components/myFollowingsPosts.js","components/ResetToken.js","components/Allposts.js","reducer/userReducer.js","App.js","serviceWorker.js","index.js"],"names":["NavBar","useState","search","setSearch","usersDetails","setusersDetails","searchModal","useRef","history","useHistory","useContext","UserContext","state","dispatch","className","to","id","useEffect","M","Modal","init","current","key","data-target","style","color","marginTop","marginRight","cursor","onClick","fetch","process","headers","then","res","json","result","console","log","catch","err","localStorage","clear","type","push","ref","placeholder","value","onChange","e","query","target","method","authorization","getItem","body","JSON","stringify","users","map","item","_id","getInstance","close","email","Home","props","data","setData","Authorization","posts","postedBy","textTransform","name","float","postId","status","toast","html","message","classes","window","location","reload","src","photo","alt","title","likes","includes","newData","doc","length","comments","comment","fontWeight","text","onSubmit","preventDefault","Login","password","setPassword","setEmail","setItem","token","user","payload","Signup","setName","setPhoto","url","setUrl","postFields","postData","FormData","append","secure_url","uploadImage","files","Profile","profile","setprofile","maxWidth","margin","display","justifyContent","width","height","borderRadius","followers","followings","file","CreatePost","setTitle","setBody","image","setImage","padding","textAlign","postDetails","UserProfile","setProfile","showFollow","setShowFollow","userId","useParams","userPosts","MyFollowingsPosts","ResetToken","confirmPassword","setConfirmPassword","Allposts","reducer","action","createContext","Routing","parse","exact","path","App","useReducer","Provider","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.725ea483.chunk.js","sourcesContent":["import React, { useContext, useRef, useEffect, useState } from \"react\";\r\nimport \"./navBar.css\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"../App\";\r\nimport M from \"materialize-css\";\r\n\r\nconst NavBar = () => {\r\n  const [search, setSearch] = useState(\"\");\r\n  const [usersDetails, setusersDetails] = useState([]);\r\n  const searchModal = useRef(null);\r\n  const history = useHistory();\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const logout = () => {\r\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/user/logout`, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        console.log(result);\r\n      })\r\n      .catch((err) => console.log(err));\r\n    localStorage.clear();\r\n    dispatch({ type: \"CLEAR\" });\r\n    history.push(\"/\");\r\n  };\r\n  const renderLogo = () => {\r\n    if (state) {\r\n      return (\r\n        <Link to=\"/home\" className=\"brand-logo left\">\r\n          Instagram\r\n        </Link>\r\n      );\r\n    } else {\r\n      return (\r\n        <Link to=\"/\" className=\"brand-logo left\">\r\n          Instagram\r\n        </Link>\r\n      );\r\n    }\r\n  };\r\n  const fetchusers = (query) => {\r\n    setSearch(query);\r\n\r\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/user/search-users`, {\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        query,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setusersDetails(result.users);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const RenderList = () => {\r\n    useEffect(() => {\r\n      M.Modal.init(searchModal.current);\r\n    }, []);\r\n    if (state) {\r\n      return [\r\n        <li\r\n          key=\"0\"\r\n          data-target=\"modal1\"\r\n          className=\"large material-icons modal-trigger\"\r\n          style={{\r\n            color: \"black\",\r\n            marginTop: \"20px\",\r\n            marginRight: \"20px\",\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          search\r\n        </li>,\r\n        <li key=\"1\">\r\n          <Link to=\"/profile\">My profile</Link>\r\n        </li>,\r\n        <li key=\"2\">\r\n          <Link to=\"/myFollowingsPosts\">My followings posts</Link>\r\n        </li>,\r\n        <li key=\"3\">\r\n          <Link to=\"/create\">Create new Post </Link>\r\n        </li>,\r\n        ,\r\n        <button className=\"btn #c62828 red-darken-3\" onClick={() => logout()}>\r\n          Logout\r\n        </button>,\r\n      ];\r\n    } else {\r\n      return [\r\n        <li key=\"5\">\r\n          <Link to=\"/login\">login</Link>\r\n        </li>,\r\n        <li key=\"6\">\r\n          <Link to=\"/signup\">signup</Link>\r\n        </li>,\r\n      ];\r\n    }\r\n  };\r\n\r\n  return (\r\n    <nav>\r\n      <div className=\"nav-wrapper white\">\r\n        {renderLogo()};\r\n        <ul id=\"nav-mobile\" className=\"right\">\r\n          {RenderList()};\r\n        </ul>\r\n      </div>\r\n      <div\r\n        id=\"modal1\"\r\n        className=\"modal\"\r\n        ref={searchModal}\r\n        style={{ color: \"black\" }}\r\n      >\r\n        <div className=\"modal-content\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"search users\"\r\n            value={search}\r\n            onChange={(e) => fetchusers(e.target.value)}\r\n          />\r\n          <ul className=\"collection\">\r\n            {usersDetails.map((item, key) => {\r\n              return (\r\n                <Link\r\n                  key={item._id}\r\n                  to={\r\n                    item._id !== state._id ? \"/profile/\" + item._id : \"/profile\"\r\n                  }\r\n                  onClick={() => {\r\n                    M.Modal.getInstance(searchModal.current).close();\r\n                    setSearch(\"\");\r\n                  }}\r\n                >\r\n                  <li className=\"collection-item\">{item.email}</li>\r\n                </Link>\r\n              );\r\n            })}\r\n          </ul>\r\n        </div>\r\n        <div className=\"modal-footer\">\r\n          <button\r\n            className=\"modal-close waves-effect waves-green btn-flat\"\r\n            onClick={(e) => setSearch(\"\")}\r\n          >\r\n            close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { UserContext } from \"../App\";\r\nimport M from \"materialize-css\";\r\n\r\nfunction Home(props) {\r\n  const [data, setData] = useState([]);\r\n\r\n  const { state, dispatch } = useContext(UserContext);\r\n  useEffect(() => {\r\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/post/home`, {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setData(result.posts);\r\n      });\r\n  }, []);\r\n  const likePost = (id) => {\r\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/post/like`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({ postId: id }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.map((item) => {\r\n          if (item._id === result.doc._id) {\r\n            return result.doc;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  const unlikePost = (id) => {\r\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/post/unlike`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({ postId: id }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.map((item) => {\r\n          if (item._id === result.doc._id) {\r\n            return result.doc;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n\r\n      .catch((err) => console.log(err));\r\n  };\r\n  const makeComment = (text, postId) => {\r\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/post/comment`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({ comment: { text, postId } }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.map((item) => {\r\n          if (item._id === result.doc._id) {\r\n            return result.doc;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  const deletePost = (postId) => {\r\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/post/delete/${postId}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (result.status === \"success\") {\r\n          M.toast({ html: result.message, classes: \"#43a047 green darken-1\" });\r\n\r\n          window.location.reload(true);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      {data.map((item, key) => {\r\n        return (\r\n          <div key={item._id} className=\"card home-card\">\r\n            <h5>\r\n              <Link\r\n                to={\"/profile/\" + item.postedBy._id}\r\n                style={{ textTransform: \"capitalize\" }}\r\n              >\r\n                {item.postedBy.name}\r\n              </Link>\r\n              {item.postedBy._id === state._id ? (\r\n                <i\r\n                  className=\"material-icons\"\r\n                  style={{ float: \"right\" }}\r\n                  onClick={() => deletePost(item._id)}\r\n                >\r\n                  delete\r\n                </i>\r\n              ) : (\r\n                <i></i>\r\n              )}\r\n            </h5>\r\n            <div className=\"card-image\">\r\n              <img src={item.photo} alt={item.title} />\r\n            </div>\r\n            <div className=\"card-content\">\r\n              {item.likes.includes(state._id) ? (\r\n                <i\r\n                  className=\"material-icons\"\r\n                  style={{ color: \"red\" }}\r\n                  onClick={() => unlikePost(item._id)}\r\n                >\r\n                  thumb_down\r\n                </i>\r\n              ) : (\r\n                <i\r\n                  className=\"material-icons\"\r\n                  style={{ color: \"red\" }}\r\n                  onClick={() => likePost(item._id)}\r\n                >\r\n                  thumb_up\r\n                </i>\r\n              )}\r\n\r\n              <h6>{item.likes.length} likes</h6>\r\n              <h6 style={{ textTransform: \"capitalize\" }}>{item.title} </h6>\r\n              <p style={{ textTransform: \"capitalize\" }}>{item.body} </p>\r\n              {item.comments.map((comment, key) => {\r\n                return (\r\n                  <h6 key={comment._id}>\r\n                    <span style={{ fontWeight: \"500\" }}>\r\n                      {comment.postedBy.name} :\r\n                    </span>\r\n\r\n                    {comment.text}\r\n                  </h6>\r\n                );\r\n              })}\r\n              <form\r\n                onSubmit={(e) => {\r\n                  e.preventDefault();\r\n\r\n                  makeComment(e.target[0].value, item._id);\r\n                }}\r\n              >\r\n                <input type=\"text\" placeholder=\"add a comment\" />\r\n              </form>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import { Link, useHistory } from \"react-router-dom\";\r\nimport React, { useState, useContext } from \"react\";\r\nimport M from \"materialize-css\";\r\nimport { UserContext } from \"../App\";\r\n\r\nfunction Login(props) {\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const history = useHistory();\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const postData = () => {\r\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/user/login`, {\r\n      method: \"post\",\r\n      headers: { \"content-type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        password,\r\n        email,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.status === \"fail\") {\r\n          M.toast({ html: data.message, classes: \"#c62828 red darken-3\" });\r\n        } else if (data.status === \"success\") {\r\n          localStorage.setItem(\"jwt\", data.token);\r\n          localStorage.setItem(\"user\", JSON.stringify(data.user));\r\n          dispatch({ type: \"USER\", payload: data.user });\r\n\r\n          M.toast({ html: data.message, classes: \"#43a047 green darken-1\" });\r\n          history.push(\"/home\"); //window.setTimeout(()=>{location.assign('/')},1500);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  const forgotPassword = () => {\r\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/user/forgot-password`, {\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ email }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (result.status === \"success\") {\r\n          M.toast({ html: result.message, classes: \"#43a047 green darken-1\" });\r\n        } else if (result.status === \"fail\") {\r\n          M.toast({ html: result.message, classes: \"#c62828 red darken-3\" });\r\n        }\r\n      })\r\n\r\n      .catch((err) => console.log(err));\r\n  };\r\n  return (\r\n    <div className=\"mycard\">\r\n      <div className=\"card auth-card\">\r\n        <h2>Instagram</h2>\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <h6 onClick={() => forgotPassword()} className=\"forgotpassword\">\r\n          forgot password ?\r\n        </h6>\r\n\r\n        <button\r\n          className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\r\n          onClick={() => postData()}\r\n        >\r\n          Login\r\n        </button>\r\n        <h5>\r\n          <Link to=\"/signup\">Don't have an account ?</Link>\r\n        </h5>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import { Link, useHistory } from \"react-router-dom\";\r\nimport React, { useState, useContext, useEffect } from \"react\";\r\nimport M from \"materialize-css\";\r\nimport { UserContext } from \"../App\";\r\n\r\nfunction Signup(props) {\r\n  const history = useHistory();\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const [name, setName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [photo, setPhoto] = useState(\"\");\r\n  const [url, setUrl] = useState(\"\");\r\n  useEffect(() => {\r\n    if (url) {\r\n      postFields();\r\n    }\r\n  }, [url]);\r\n  const uploadImage = () => {\r\n    const data = new FormData();\r\n    data.append(\"file\", photo);\r\n    data.append(\"upload_preset\", \"insta-clone\");\r\n    data.append(\"cloud_name\", \"de8wrgyph\");\r\n    fetch(\"https://api.cloudinary.com/v1_1/de8wrgyph/image/upload\", {\r\n      method: \"post\",\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setUrl(data.secure_url);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  const postFields = () => {\r\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/user/signup`, {\r\n      method: \"post\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        name,\r\n        password,\r\n        email,\r\n        photo: url,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.status === \"fail\") {\r\n          M.toast({\r\n            html: data.message.message,\r\n            classes: \"#c62828 red darken-3\",\r\n          });\r\n        } else if (data.status === \"success\") {\r\n          localStorage.setItem(\"jwt\", data.token);\r\n          localStorage.setItem(\"user\", JSON.stringify(data.user));\r\n          dispatch({ type: \"USER\", payload: data.user });\r\n\r\n          M.toast({ html: data.message, classes: \"#43a047 green darken-1\" });\r\n          history.push(\"/home\");\r\n        }\r\n      });\r\n  };\r\n  const postData = () => {\r\n    if (photo) {\r\n      uploadImage();\r\n    } else {\r\n      postFields();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mycard\">\r\n        <div className=\"card auth-card\">\r\n          <h2>Instagram</h2>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Name\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n          />\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n          <div className=\"file-field input-field\">\r\n            <div className=\"btn\">\r\n              <span>Upload Image</span>\r\n              <input\r\n                type=\"file\"\r\n                onChange={(e) => {\r\n                  setPhoto(e.target.files[0]);\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"file-path-wrapper\">\r\n              <input className=\"file-path validate\" type=\"text\" />\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            className=\"btn waves-effect waves-light #64b5f6 blue lighten-2\"\r\n            onClick={() => postData()}\r\n          >\r\n            Signup\r\n          </button>\r\n          <h5>\r\n            <Link to=\"/login\">Already to have an account ?</Link>\r\n          </h5>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { UserContext } from \"../App\";\r\n\r\nfunction Profile(props) {\r\n  const [profile, setprofile] = useState([]);\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const [photo, setPhoto] = useState(\"\");\r\n  const [url, setUrl] = useState(\"\");\r\n  useEffect(() => {\r\n    if (photo) {\r\n      const data = new FormData();\r\n      data.append(\"file\", photo);\r\n      data.append(\"upload_preset\", \"insta-clone\");\r\n      data.append(\"cloud_name\", \"de8wrgyph\");\r\n      fetch(\"https://api.cloudinary.com/v1_1/de8wrgyph/image/upload\", {\r\n        method: \"post\",\r\n        body: data,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          setUrl(data.secure_url);\r\n\r\n          fetch(`${process.env.REACT_APP_BACKEND_URL}/user/updatePhoto`, {\r\n            method: \"put\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n            },\r\n            body: JSON.stringify({ photo: data.secure_url }),\r\n          })\r\n            .then((res) => res.json())\r\n            .then((result) => {\r\n              console.log(\"the results is now\", result.data.doc.photo);\r\n              dispatch({ type: \"UPLOAD\", payload: result.data.doc.photo });\r\n            })\r\n            .catch((err) => console.log(err));\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }, [photo]);\r\n  const uploadPhoto = (file) => {\r\n    setPhoto(file);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/user/myProfile`, {\r\n      headers: {\r\n        authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setprofile(result.doc);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n  return (\r\n    <div style={{ maxWidth: \"550px\", margin: \"0px auto\" }}>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-around\",\r\n          margin: \"18px 0px\",\r\n        }}\r\n      >\r\n        <div>\r\n          <img\r\n            style={{ width: \"160px\", height: \"160px\", borderRadius: \"80px\" }}\r\n            src={state.photo}\r\n          />\r\n        </div>\r\n        <div>\r\n          <h4 style={{ textTransform: \"capitalize\" }}>{state.name}</h4>\r\n\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              width: \"108%\",\r\n            }}\r\n          >\r\n            <h5>{profile.length} posts </h5>\r\n            <h5>{state.followers.length}followers </h5>\r\n            <h5> {state.followings.length} following </h5>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"file-field input-field\">\r\n        <div className=\"btn\">\r\n          <span>Upload Image</span>\r\n          <input\r\n            type=\"file\"\r\n            onChange={(e) => {\r\n              uploadPhoto(e.target.files[0]);\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"file-path-wrapper\">\r\n          <input className=\"file-path validate\" type=\"text\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"gallery\">\r\n        {profile.map((item, key) => {\r\n          return <img className=\"item\" key={item._id} src={item.photo} />;\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport M from \"materialize-css\";\r\n\r\nfunction CreatePost(props) {\r\n  const history = useHistory();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const [url, setUrl] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (url) {\r\n      fetch(`${process.env.REACT_APP_BACKEND_URL}/post/create`, {\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n        },\r\n        body: JSON.stringify({\r\n          title,\r\n          body,\r\n          photo: url,\r\n        }),\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (data.status === \"fail\") {\r\n            M.toast({ html: data.message, classes: \"#c62828 red darken-3\" });\r\n          } else if (data.status === \"success\") {\r\n            M.toast({ html: data.message, classes: \"#43a047 green darken-1\" });\r\n            history.push(\"/home\");\r\n          }\r\n        });\r\n    }\r\n  }, [url]);\r\n  const postDetails = () => {\r\n    const data = new FormData();\r\n    data.append(\"file\", image);\r\n    data.append(\"upload_preset\", \"insta-clone\");\r\n    data.append(\"cloud_name\", \"de8wrgyph\");\r\n    fetch(\"https://api.cloudinary.com/v1_1/de8wrgyph/image/upload\", {\r\n      method: \"post\",\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setUrl(data.secure_url);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"card input -filed\"\r\n      style={{\r\n        margin: \"30px auto\",\r\n        maxWidth: \"500px\",\r\n        padding: \"20px\",\r\n        textAlign: \"center\",\r\n      }}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"title\"\r\n        value={title}\r\n        onChange={(e) => {\r\n          setTitle(e.target.value);\r\n        }}\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"body\"\r\n        value={body}\r\n        onChange={(e) => {\r\n          setBody(e.target.value);\r\n        }}\r\n      />\r\n      <div className=\"file-field input-field\">\r\n        <div className=\"btn\">\r\n          <span>Upload Image</span>\r\n          <input type=\"file\" onChange={(e) => setImage(e.target.files[0])} />\r\n        </div>\r\n        <div className=\"file-path-wrapper\">\r\n          <input className=\"file-path validate\" type=\"text\" />\r\n        </div>\r\n      </div>\r\n      <button\r\n        className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\r\n        onClick={() => postDetails()}\r\n      >\r\n        submit post{\" \"}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CreatePost;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { UserContext } from \"../App\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\n\r\nfunction UserProfile(props) {\r\n  const [Profile, setProfile] = useState(null);\r\n  const [showFollow, setShowFollow] = useState(true);\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const { userId } = useParams();\r\n\r\n  useEffect(() => {\r\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/user/user/${userId}`, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setProfile(result.data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n  const followUser = () => {\r\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/user/follow`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({ userId }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        dispatch({\r\n          type: \"UPDATE\",\r\n          payload: {\r\n            followers: result.data.doc.followers,\r\n            followings: result.data.doc.followings,\r\n          },\r\n        });\r\n\r\n        setShowFollow(false);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  const unfollowUser = () => {\r\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/user/unfollow`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({ userId }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        dispatch({\r\n          type: \"UPDATE\",\r\n          payload: {\r\n            followers: result.data.doc.followers,\r\n            followings: result.data.doc.followings,\r\n          },\r\n        });\r\n\r\n        setShowFollow(true);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  return (\r\n    <>\r\n      {Profile ? (\r\n        <div style={{ maxWidth: \"550px\", margin: \"0px auto\" }}>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-around\",\r\n              margin: \"18px 0px\",\r\n            }}\r\n          >\r\n            <div>\r\n              <img\r\n                style={{\r\n                  width: \"160px\",\r\n                  height: \"160px\",\r\n                  borderRadius: \"80px\",\r\n                }}\r\n                src={Profile.user.photo}\r\n              />\r\n            </div>\r\n            <div>\r\n              <h4 style={{ textTransform: \"capitalize\" }}>\r\n                {Profile.user.name}\r\n              </h4>\r\n              <h5>{Profile.user.email}</h5>\r\n              {showFollow ? (\r\n                <button\r\n                  className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\r\n                  onClick={() => followUser()}\r\n                >\r\n                  follow\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\r\n                  onClick={() => unfollowUser()}\r\n                >\r\n                  unfollow\r\n                </button>\r\n              )}\r\n\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\",\r\n                  width: \"108%\",\r\n                }}\r\n              >\r\n                <h5>{Profile.userPosts.length} posts </h5>\r\n                <h5>{state.followers.length} followers </h5>\r\n                <h5> {state.followings.length}following </h5>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"gallery\">\r\n            {Profile.userPosts.map((item) => {\r\n              return (\r\n                <img\r\n                  key={item._id}\r\n                  className=\"item\"\r\n                  src={item.photo}\r\n                  alt={item.title}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <h2>loading...</h2>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default UserProfile;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { UserContext } from \"../App\";\r\n\r\nconst MyFollowingsPosts = (props) => {\r\n  const [data, setData] = useState([]);\r\n\r\n  const { state, dispatch } = useContext(UserContext);\r\n  useEffect(() => {\r\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/user/mySubPost`, {\r\n      headers: {\r\n        //\"Content-Type\": \"application/json\",\r\n        authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setData(result.doc);\r\n      });\r\n  }, []);\r\n  const likePost = (id) => {\r\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/post/like`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({ postId: id }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.map((item) => {\r\n          if (item._id === result.doc._id) {\r\n            return result.doc;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  const unlikePost = (id) => {\r\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/post/unlike`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({ postId: id }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.map((item) => {\r\n          if (item._id === result.doc._id) {\r\n            return result.doc;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n\r\n      .catch((err) => console.log(err));\r\n  };\r\n  const makeComment = (text, postId) => {\r\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/post/comment`, {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({ comment: { text, postId } }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.map((item) => {\r\n          if (item._id == result.doc._id) {\r\n            return result.doc;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      {data.map((item, key) => {\r\n        return (\r\n          <div key={item._id} className=\"card home-card\">\r\n            <h5>\r\n              <Link to={\"/profile/\" + item.postedBy._id}>\r\n                {item.postedBy.name}\r\n              </Link>\r\n            </h5>\r\n            <div className=\"card-image\">\r\n              <img src={item.photo} />\r\n            </div>\r\n            <div className=\"card-content\">\r\n              {item.likes.includes(state._id) ? (\r\n                <i\r\n                  className=\"material-icons\"\r\n                  style={{ color: \"red\" }}\r\n                  onClick={() => unlikePost(item._id)}\r\n                >\r\n                  thumb_down\r\n                </i>\r\n              ) : (\r\n                <i\r\n                  className=\"material-icons\"\r\n                  style={{ color: \"red\" }}\r\n                  onClick={() => likePost(item._id)}\r\n                >\r\n                  thumb_up\r\n                </i>\r\n              )}\r\n\r\n              <h6>{item.likes.length} likes</h6>\r\n              <h6>{item.title} </h6>\r\n              <p>{item.body} </p>\r\n              {item.comments.map((comment, key) => {\r\n                return (\r\n                  <h6 key={comment._id}>\r\n                    <span style={{ fontWeight: \"500\" }}>\r\n                      {comment.postedBy.name} :\r\n                    </span>\r\n\r\n                    {comment.text}\r\n                  </h6>\r\n                );\r\n              })}\r\n              <form\r\n                onSubmit={(e) => {\r\n                  e.preventDefault();\r\n\r\n                  makeComment(e.target[0].value, item._id);\r\n                }}\r\n              >\r\n                <input type=\"text\" placeholder=\"add a comment\" />\r\n              </form>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyFollowingsPosts;\r\n","import React, { useState } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport M from \"materialize-css\";\r\n\r\nfunction ResetToken(props) {\r\n  const history = useHistory();\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const { token } = useParams();\r\n  const postData = () => {\r\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/user/resetPassword/${token}`, {\r\n      method: \"post\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        password,\r\n        confirmPassword,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (result.status === \"fail\") {\r\n          M.toast({ html: result.message, classes: \"#c62828 red darken-3\" });\r\n        } else if (result.status === \"success\") {\r\n          M.toast({ html: result.message, classes: \"#43a047 green darken-1\" });\r\n\r\n          history.push(\"/login\"); //window.setTimeout(()=>{location.assign('/')},1500);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"mycard\">\r\n      <div className=\"card auth-card\">\r\n        <h2>Reset Password</h2>\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          value={confirmPassword}\r\n          onChange={(e) => setConfirmPassword(e.target.value)}\r\n        />\r\n\r\n        <button\r\n          className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\r\n          onClick={() => postData()}\r\n        >\r\n          Submit\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ResetToken;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Allposts(props) {\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/post/`, {})\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setData(result.posts);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      {data.map((item, key) => {\r\n        return (\r\n          <div key={item._id} className=\"card home-card\">\r\n            <h5>{item.postedBy.name}</h5>\r\n            <div className=\"card-image\">\r\n              <img src={item.photo} alt={item.title} />\r\n            </div>\r\n\r\n            <h6>{item.likes.length} likes</h6>\r\n            <h6>{item.title} </h6>\r\n            <p>{item.body} </p>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Allposts;\r\n","export const initialState = null;\r\nexport const reducer = (state, action) => {\r\n  if (action.type === \"USER\") {\r\n    return action.payload;\r\n  }\r\n  if (action.type === \"CLEAR\") {\r\n    return null;\r\n  }\r\n  if (action.type === \"UPDATE\") {\r\n    return {\r\n      ...state,\r\n      followers: action.payload.followers,\r\n      followings: action.payload.followings,\r\n    };\r\n  }\r\n  if (action.type === \"UPLOAD\") {\r\n    return { ...state, photo: action.payload };\r\n  }\r\n  return state;\r\n};\r\n","import React, { useEffect, createContext, useContext, useReducer } from \"react\";\nimport NavBar from \"./components/navBar\";\nimport { BrowserRouter, Route, Switch, useHistory } from \"react-router-dom\";\nimport Home from \"./components/Home\";\nimport Login from \"./components/Login\";\nimport Signup from \"./components/Signup\";\nimport Profile from \"./components/Profile\";\nimport CreatePost from \"./components/CreatePost\";\nimport UserProfile from \"./components/UserProfile\";\nimport MyFollowingsPosts from \"./components/myFollowingsPosts\";\nimport ResetToken from \"./components/ResetToken\";\nimport Allposts from \"./components/Allposts\";\nimport { reducer, initialState } from \"./reducer/userReducer\";\n\nimport \"./App.css\";\nexport const UserContext = createContext();\nconst Routing = () => {\n  const history = useHistory();\n  const { state, dispatch } = useContext(UserContext);\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n\n    if (user) {\n      history.push(\"/home\");\n      dispatch({ type: \"USER\", payload: user });\n    } // else if (!state) {\n    //   history.push(\"/Allposts\");\n    // }\n  }, []);\n  return (\n    <Switch>\n      <Route exact path=\"/\">\n        <Allposts />\n      </Route>\n      <Route exact path=\"/home\">\n        <Home />\n      </Route>\n\n      <Route path=\"/login\">\n        <Login />\n      </Route>\n      <Route path=\"/signup\">\n        <Signup />\n      </Route>\n      <Route exact path=\"/profile\">\n        <Profile />\n      </Route>\n      <Route path=\"/create\">\n        <CreatePost />\n      </Route>\n      <Route path=\"/profile/:userId\">\n        <UserProfile />\n      </Route>\n      <Route path=\"/myFollowingsPosts\">\n        <MyFollowingsPosts />\n      </Route>\n      <Route path=\"/resetPassword/:token\">\n        <ResetToken />\n      </Route>\n    </Switch>\n  );\n};\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <UserContext.Provider value={{ state, dispatch }}>\n      <BrowserRouter>\n        <NavBar />\n        <Routing />\n      </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}